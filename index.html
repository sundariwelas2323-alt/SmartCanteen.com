<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GoDari - Revolusi Kantin Digital</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Plus Jakarta Sans', sans-serif; }
        .blue-gradient { background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%); }
        .glass { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); }
        .hero-pattern {
            background-color: #1e3a8a;
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%233b82f6' fill-opacity='0.12'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2v-4h4v-2h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2v-4h4v-2H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
            100% { transform: translateY(0px); }
        }
        .float-animation { animation: float 4s ease-in-out infinite; }
        .section-curve { clip-path: ellipse(100% 100% at 50% 0%); }
        
        /* Custom QR Container */
        .qr-wrapper {
            position: relative;
            background: white;
            padding: 15px;
            border-radius: 20px;
            display: inline-block;
        }
    </style>
</head>
<body class="bg-[#F8FAFC] text-slate-900">

    <!-- Navbar -->
    <nav class="glass fixed w-full z-50 border-b border-slate-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-20 items-center">
                <div class="flex items-center space-x-2">
                    <div class="w-10 h-10 blue-gradient rounded-xl flex items-center justify-center shadow-lg shadow-blue-200">
                        <i class="fas fa-utensils text-white"></i>
                    </div>
                    <span class="text-2xl font-extrabold tracking-tight text-slate-900">Go<span class="text-blue-600">Dari</span></span>
                </div>
                <div class="hidden md:flex space-x-10 items-center font-semibold text-slate-600">
                    <a href="#home" class="hover:text-blue-600 transition">Beranda</a>
                    <a href="#features" class="hover:text-blue-600 transition">Keunggulan</a>
                    <a href="#menu" class="hover:text-blue-600 transition">Katalog Menu</a>
                    <a href="#status" class="hover:text-blue-600 transition">Status</a>
                </div>
                <div class="flex items-center space-x-5">
                    <div id="user-display" class="hidden md:flex items-center bg-blue-50 px-4 py-2 rounded-full border border-blue-100">
                        <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse mr-2"></div>
                        <span id="display-name" class="text-sm font-bold text-blue-800 uppercase tracking-wider"></span>
                    </div>
                    <button onclick="toggleCart()" class="relative p-3 bg-slate-100 rounded-full hover:bg-blue-600 hover:text-white transition group">
                        <i class="fas fa-shopping-basket text-lg"></i>
                        <span id="cart-count" class="absolute -top-1 -right-1 bg-red-500 text-white text-[10px] font-bold rounded-full h-5 w-5 flex items-center justify-center hidden border-2 border-white">0</span>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Home / Hero Section -->
    <section id="home" class="hero-pattern pt-32 pb-20 px-4 text-white relative overflow-hidden">
        <div class="max-w-7xl mx-auto grid md:grid-cols-2 gap-12 items-center relative z-10">
            <div class="text-left space-y-8">
                <div class="inline-flex items-center space-x-2 bg-blue-500/20 backdrop-blur-md px-4 py-2 rounded-full border border-white/10">
                    <span class="flex h-2 w-2 rounded-full bg-blue-400"></span>
                    <span class="text-sm font-bold tracking-wide uppercase text-blue-100 italic">#1 Digital Canteen Solution</span>
                </div>
                <h1 class="text-5xl md:text-7xl font-extrabold leading-tight">
                    Makan Enak <br> <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-200 to-white">Tanpa Harus Antri</span>
                </h1>
                <p class="text-xl text-blue-100 leading-relaxed max-w-lg">
                    Revolusi cara pesan makanan di kantin. Pilih menu, bayar digital, dan ambil saat sudah siap. Hemat waktu untuk hal yang lebih penting.
                </p>
                <div class="flex flex-wrap gap-4">
                    <a href="#menu" class="bg-white text-blue-800 px-8 py-4 rounded-2xl font-extrabold shadow-2xl hover:bg-blue-50 transition-all flex items-center space-x-2 group">
                        <span>Pesan Sekarang</span>
                        <i class="fas fa-arrow-right group-hover:translate-x-1 transition"></i>
                    </a>
                    <a href="https://wa.me/6282180809916" class="bg-blue-600/30 backdrop-blur-md border border-white/20 text-white px-8 py-4 rounded-2xl font-bold hover:bg-blue-600/50 transition">
                        Hubungi Admin
                    </a>
                </div>
            </div>
            <div class="hidden md:block relative">
                <div class="absolute -inset-4 bg-blue-400 rounded-full blur-3xl opacity-20 animate-pulse"></div>
                <img src="https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&q=80&w=800" 
                     alt="GoDari Food" class="rounded-3xl shadow-2xl float-animation border-8 border-white/10 relative z-10">
            </div>
        </div>
    </section>

    <!-- Menu Section -->
    <section id="menu" class="py-20 px-4">
        <div class="max-w-7xl mx-auto">
            <div class="flex flex-col md:flex-row justify-between items-center mb-12 gap-6 text-center md:text-left">
                <div>
                    <h2 class="text-3xl font-extrabold text-slate-900">Katalog Menu Kami</h2>
                    <p class="text-slate-500">Pilih hidangan spesial dari kantin kami</p>
                </div>
            </div>
            <div id="menu-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"></div>
        </div>
    </section>

    <!-- Status Section -->
    <section id="status" class="bg-slate-900 py-24 px-4 text-white">
        <div class="max-w-4xl mx-auto text-center">
            <h2 class="text-3xl font-extrabold mb-12">Pantau Pesanan Anda</h2>
            <div class="grid md:grid-cols-2 gap-8">
                <div class="bg-slate-800 p-8 rounded-3xl border border-slate-700">
                    <h3 class="font-bold text-xl mb-6 flex items-center text-yellow-400">
                        <i class="fas fa-fire-alt mr-3"></i> Proses Masak
                    </h3>
                    <ul id="processing-list" class="space-y-4">
                        <li class="text-sm text-slate-500 italic">Belum ada pesanan aktif</li>
                    </ul>
                </div>
                <div class="bg-slate-800 p-8 rounded-3xl border border-slate-700">
                    <h3 class="font-bold text-xl mb-6 flex items-center text-green-400">
                        <i class="fas fa-concierge-bell mr-3"></i> Siap Diambil
                    </h3>
                    <ul id="ready-list" class="space-y-4">
                        <li class="text-sm text-slate-500 italic">Antrian pengambilan kosong</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Auth Modal -->
    <div id="auth-modal" class="fixed inset-0 z-[100] flex items-center justify-center px-4 hidden">
        <div class="absolute inset-0 bg-slate-900/80 backdrop-blur-md"></div>
        <div class="bg-white rounded-[2.5rem] shadow-2xl w-full max-w-md relative z-10 p-10 animate-fadeIn border border-slate-100">
            <div class="text-center mb-8">
                <h2 class="text-3xl font-black text-slate-900">Selamat Datang!</h2>
                <p class="text-slate-500 mt-2">Daftar untuk mulai memesan</p>
            </div>
            <form onsubmit="saveUser(event)" class="space-y-6">
                <div>
                    <label class="block text-sm font-bold text-slate-700 mb-2">Nama Lengkap</label>
                    <input type="text" id="user-name" required placeholder="Nama Anda" class="w-full px-6 py-4 rounded-2xl bg-slate-50 border border-slate-200 focus:ring-4 focus:ring-blue-100 outline-none transition font-medium">
                </div>
                <div>
                    <label class="block text-sm font-bold text-slate-700 mb-2">Nomor WhatsApp</label>
                    <input type="tel" id="user-phone" required placeholder="08xxxxxxx" class="w-full px-6 py-4 rounded-2xl bg-slate-50 border border-slate-200 focus:ring-4 focus:ring-blue-100 outline-none transition font-medium">
                </div>
                <button type="submit" class="w-full blue-gradient text-white font-extrabold py-5 rounded-2xl shadow-xl hover:scale-[1.02] active:scale-95 transition-all text-lg tracking-wide">
                    Mulai Pesan
                </button>
            </form>
        </div>
    </div>

    <!-- Payment QRIS Modal -->
    <div id="payment-modal" class="fixed inset-0 z-[100] flex items-center justify-center px-4 hidden">
        <div class="absolute inset-0 bg-slate-900/90 backdrop-blur-lg"></div>
        <div class="bg-white rounded-[3rem] shadow-2xl w-full max-w-sm relative z-10 p-8 animate-fadeIn text-center border border-slate-100">
            <div class="bg-blue-50 w-16 h-1 w-1 rounded-full mx-auto mb-6"></div>
            <h2 class="text-2xl font-black text-slate-900 mb-1">Konfirmasi Pembayaran</h2>
            <p class="text-xs text-slate-500 mb-6 font-medium">Penerima: <span class="text-blue-600 font-bold uppercase">Sundari Welas Asih</span></p>
            
            <div class="bg-slate-50 p-6 rounded-[2rem] border-2 border-dashed border-slate-200 mb-6 flex justify-center">
                <div class="qr-wrapper">
                    <img id="qris-image" src="" alt="Dana QRIS" class="w-48 h-48 rounded-lg shadow-sm">
                </div>
            </div>

            <div class="bg-slate-900 text-white p-5 rounded-[1.5rem] mb-6 shadow-inner">
                <p class="text-[10px] text-slate-400 font-bold uppercase tracking-[0.2em] mb-1">Total yang harus dibayar</p>
                <p id="payment-total-display" class="text-3xl font-black tracking-tight text-blue-400">Rp 0</p>
            </div>

            <div class="text-[10px] text-slate-400 mb-6 leading-relaxed">
                Scan menggunakan aplikasi <span class="font-bold">Dana, OVO, GoPay, atau M-Banking</span>. <br>
                Pastikan nominal sesuai dengan total tagihan di atas.
            </div>

            <button onclick="confirmPayment()" class="w-full blue-gradient text-white font-extrabold py-5 rounded-2xl shadow-xl hover:scale-[1.02] active:scale-95 transition-all text-lg mb-4">
                Konfirmasi Sudah Bayar
            </button>
            <button onclick="closePayment()" class="text-sm text-slate-400 font-bold hover:text-slate-600 transition tracking-widest uppercase">Kembali</button>
        </div>
    </div>

    <!-- Shopping Cart Sidebar -->
    <div id="cart-sidebar" class="fixed inset-y-0 right-0 w-full md:w-96 glass shadow-2xl z-[60] transform translate-x-full transition-transform duration-500 border-l border-slate-200">
        <div class="flex flex-col h-full">
            <div class="p-8 border-b border-slate-100 flex justify-between items-center bg-blue-600 text-white">
                <div class="flex items-center space-x-3">
                    <i class="fas fa-shopping-bag text-xl"></i>
                    <h2 class="text-2xl font-black">Keranjang</h2>
                </div>
                <button onclick="toggleCart()" class="text-3xl hover:rotate-90 transition-all">&times;</button>
            </div>
            <div id="cart-items" class="flex-1 overflow-y-auto p-8 space-y-6"></div>
            <div class="p-8 border-t border-slate-100 bg-slate-50/50">
                <div class="flex justify-between mb-6">
                    <span class="text-slate-500 font-bold">Total Pesanan</span>
                    <span id="cart-total" class="text-2xl font-black text-blue-700">Rp 0</span>
                </div>
                <button onclick="initiatePayment()" class="w-full blue-gradient text-white py-5 rounded-2xl font-black text-lg shadow-2xl hover:scale-[1.02] transition-all">
                    Bayar Sekarang
                </button>
            </div>
        </div>
    </div>

    <div id="overlay" onclick="toggleCart()" class="fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-50 hidden animate-fadeIn"></div>

    <script>
        // Configuration
        const RECIPIENT_NAME = "Sundari Welas Asih";
        const RECIPIENT_PHONE = "082180961647"; // Dana Number
        
        const menuItems = [
            { id: 1, name: "Ayam Bakar Madu", price: 28000, category: "Makanan", image: "https://images.unsplash.com/photo-1598515214211-89d3c73ae83b?auto=format&fit=crop&q=80&w=500" },
            { id: 2, name: "Mie Goreng Special", price: 22000, category: "Makanan", image: "https://images.unsplash.com/photo-1585032226651-759b368d7246?auto=format&fit=crop&q=80&w=500" },
            { id: 3, name: "Soto Betawi Asli", price: 25000, category: "Makanan", image: "https://images.unsplash.com/photo-1547592166-23ac45744acd?auto=format&fit=crop&q=80&w=500" },
            { id: 4, name: "Iced Caramel Latte", price: 18000, category: "Minuman", image: "icecaramel.jpg" },
            { id: 5, name: "Jus Mangga Premium", price: 15000, category: "Minuman", image: "jusssmanggaa.jpg" },
            { id: 6, name: "Thai Tea Creamy", price: 12000, category: "Minuman", image: "thaiteecreamy.jpg" }
        ];

        let cart = [];
        let userData = JSON.parse(localStorage.getItem('godari_user')) || null;

        function renderMenu() {
            const grid = document.getElementById('menu-grid');
            grid.innerHTML = menuItems.map(item => `
                <div class="bg-white rounded-[2.5rem] shadow-sm hover:shadow-2xl transition-all duration-500 overflow-hidden group border border-slate-100 hover:-translate-y-2">
                    <div class="h-60 overflow-hidden relative">
                        <img src="${item.image}" alt="${item.name}" class="w-full h-full object-cover group-hover:scale-110 transition duration-700">
                        <span class="absolute top-4 left-4 bg-white/90 backdrop-blur px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest text-blue-700 shadow-lg">${item.category}</span>
                    </div>
                    <div class="p-8">
                        <h3 class="text-2xl font-black text-slate-800 mb-2">${item.name}</h3>
                        <p class="text-blue-600 font-black text-xl mb-6 tracking-tight">Rp ${item.price.toLocaleString('id-ID')}</p>
                        <button onclick="checkAuthAndAdd(${item.id})" class="w-full bg-slate-900 text-white py-4 rounded-2xl font-bold hover:bg-blue-600 transition-all flex items-center justify-center space-x-2">
                            <i class="fas fa-plus-circle"></i>
                            <span>Tambah Pesanan</span>
                        </button>
                    </div>
                </div>
            `).join('');
            checkUserDisplay();
        }

        function checkUserDisplay() {
            if (userData) {
                document.getElementById('user-display').classList.remove('hidden');
                document.getElementById('display-name').innerText = userData.name.split(' ')[0];
            }
        }

        function saveUser(e) {
            e.preventDefault();
            userData = { name: document.getElementById('user-name').value, phone: document.getElementById('user-phone').value };
            localStorage.setItem('godari_user', JSON.stringify(userData));
            document.getElementById('auth-modal').classList.add('hidden');
            checkUserDisplay();
        }

        function checkAuthAndAdd(id) {
            if (!userData) {
                document.getElementById('auth-modal').classList.remove('hidden');
                return;
            }
            addToCart(id);
        }

        function toggleCart() {
            document.getElementById('cart-sidebar').classList.toggle('translate-x-full');
            document.getElementById('overlay').classList.toggle('hidden');
        }

        function addToCart(id) {
            const item = menuItems.find(i => i.id === id);
            const inCart = cart.find(i => i.id === id);
            if (inCart) inCart.quantity++; else cart.push({ ...item, quantity: 1 });
            updateCartUI();
        }

        function removeFromCart(id) {
            cart = cart.filter(item => item.id !== id);
            updateCartUI();
        }

        function updateCartUI() {
            const list = document.getElementById('cart-items');
            const totalDisplay = document.getElementById('cart-total');
            const count = document.getElementById('cart-count');
            
            if (cart.length === 0) {
                list.innerHTML = '<div class="text-center py-20 text-slate-400 font-bold">Keranjang Kosong</div>';
                count.classList.add('hidden');
            } else {
                count.classList.remove('hidden');
                count.innerText = cart.reduce((a, b) => a + b.quantity, 0);
                list.innerHTML = cart.map(item => `
                    <div class="flex items-center justify-between bg-slate-50 p-5 rounded-[1.5rem] border border-slate-100">
                        <div class="flex-1">
                            <h4 class="font-black text-slate-800 text-sm">${item.name}</h4>
                            <p class="text-xs text-slate-500 font-bold">${item.quantity} x Rp ${item.price.toLocaleString('id-ID')}</p>
                        </div>
                        <button onclick="removeFromCart(${item.id})" class="text-red-400 p-2"><i class="fas fa-trash-alt"></i></button>
                    </div>
                `).join('');
            }
            const total = cart.reduce((a, b) => a + (b.price * b.quantity), 0);
            totalDisplay.innerText = `Rp ${total.toLocaleString('id-ID')}`;
            document.getElementById('payment-total-display').innerText = `Rp ${total.toLocaleString('id-ID')}`;
        }

        function initiatePayment() {
            if (cart.length === 0) return;
            const total = cart.reduce((a, b) => a + (b.price * b.quantity), 0);
            
            // Generator QRis Statis/Dinamis via Image API
            // Kita menyematkan informasi nomor Dana & Nama penerima ke dalam QR
            const qrisData = `DANA-${RECIPIENT_PHONE}-${total}-${RECIPIENT_NAME}`;
            const qrUrl = `qode qr.png`;
            
            document.getElementById('qris-image').src = qrUrl;
            toggleCart();
            document.getElementById('payment-modal').classList.remove('hidden');
        }

        function closePayment() {
            document.getElementById('payment-modal').classList.add('hidden');
        }

        function confirmPayment() {
            const orderId = "GD-" + Math.floor(Math.random() * 9000 + 1000);
            const procList = document.getElementById('processing-list');
            
            if (procList.innerText.includes("Belum ada")) procList.innerHTML = "";
            const li = document.createElement('li');
            li.className = "p-5 bg-slate-700/50 rounded-2xl border border-slate-600 flex justify-between items-center";
            li.innerHTML = `<div><div class="font-black text-white">#${orderId}</div><div class="text-[10px] text-slate-400 font-bold uppercase uppercase">${userData.name}</div></div><div class="flex items-center space-x-2"><div class="w-2 h-2 bg-yellow-400 rounded-full animate-ping"></div><span class="text-xs font-bold text-yellow-400 uppercase">Diproses</span></div>`;
            procList.appendChild(li);

            setTimeout(() => {
                li.remove();
                const readyList = document.getElementById('ready-list');
                if (readyList.innerText.includes("Antrian pengambilan")) readyList.innerHTML = "";
                const rLi = document.createElement('li');
                rLi.className = "p-5 bg-green-500/10 rounded-2xl border border-green-500/30 flex justify-between items-center";
                rLi.innerHTML = `<div><div class="font-black text-white">#${orderId}</div><div class="text-[10px] text-green-400 font-bold uppercase">${userData.name}</div></div><div class="bg-green-500 text-white px-3 py-1 rounded-full text-[10px] font-black animate-bounce">AMBIL</div>`;
                readyList.appendChild(rLi);
            }, 15000);

            // Ganti alert dengan pesan sukses custom jika ingin lebih premium, tapi alert tetap berfungsi baik
            const successMsg = `Terima kasih!\nPembayaran sedang diverifikasi untuk akun Dana: ${RECIPIENT_PHONE} (Sundari Welas Asih).\n\nNomor Antrian: #${orderId}`;
            alert(successMsg);
            
            cart = [];
            updateCartUI();
            closePayment();
        }

        window.onload = renderMenu;
    </script>
</body>
</html>