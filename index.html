<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GoDari - Revolusi Kantin Digital</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Plus Jakarta Sans', sans-serif; scroll-behavior: smooth; }
        .blue-gradient { background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%); }
        .glass { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); }
        .hero-pattern {
            background-color: #1e3a8a;
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%233b82f6' fill-opacity='0.12'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2v-4h4v-2h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2v-4h4v-2H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
            100% { transform: translateY(0px); }
        }
        .float-animation { animation: float 4s ease-in-out infinite; }
        .instagram-gradient {
            background: radial-gradient(circle at 30% 107%, #fdf497 0%, #fdf497 5%, #fd5949 45%, #d6249f 60%, #285AEB 90%);
        }
        .qr-wrapper {
            background: white;
            padding: 15px;
            border-radius: 20px;
            display: inline-block;
        }
        .category-btn.active {
            background-color: #1e3a8a;
            color: white;
            box-shadow: 0 10px 15px -3px rgba(30, 58, 138, 0.3);
        }
    </style>
</head>
<body class="bg-[#F8FAFC] text-slate-900">

    <!-- Navbar -->
    <nav class="glass fixed w-full z-50 border-b border-slate-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-20 items-center">
                <div class="flex items-center space-x-2">
                    <div class="w-10 h-10 blue-gradient rounded-xl flex items-center justify-center shadow-lg shadow-blue-200">
                        <i class="fas fa-utensils text-white"></i>
                    </div>
                    <span class="text-2xl font-extrabold tracking-tight text-slate-900">Go<span class="text-blue-600">Dari</span></span>
                </div>
                <div class="hidden md:flex space-x-8 items-center font-semibold text-slate-600">
                    <a href="#home" class="hover:text-blue-600 transition">Beranda</a>
                    <a href="#menu-section" class="hover:text-blue-600 transition">Katalog</a>
                    <a href="#status" class="hover:text-blue-600 transition">Status</a>
                    <a href="https://instagram.com/godari2323" target="_blank" class="flex items-center space-x-2 text-pink-600 hover:scale-105 transition">
                        <i class="fab fa-instagram text-xl"></i>
                        <span class="text-sm">@godari2323</span>
                    </a>
                </div>
                <div class="flex items-center space-x-5">
                    <div id="user-display" class="hidden md:flex items-center bg-blue-50 px-4 py-2 rounded-full border border-blue-100">
                        <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse mr-2"></div>
                        <span id="display-name" class="text-sm font-bold text-blue-800 uppercase tracking-wider"></span>
                    </div>
                    <button onclick="toggleCart()" class="relative p-3 bg-slate-100 rounded-full hover:bg-blue-600 hover:text-white transition group">
                        <i class="fas fa-shopping-basket text-lg"></i>
                        <span id="cart-count" class="absolute -top-1 -right-1 bg-red-500 text-white text-[10px] font-bold rounded-full h-5 w-5 flex items-center justify-center hidden border-2 border-white">0</span>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Home / Hero Section -->
    <section id="home" class="hero-pattern pt-32 pb-20 px-4 text-white relative overflow-hidden">
        <div class="max-w-7xl mx-auto grid md:grid-cols-2 gap-12 items-center relative z-10">
            <div class="text-left space-y-8">
                <div class="inline-flex items-center space-x-2 bg-blue-500/20 backdrop-blur-md px-4 py-2 rounded-full border border-white/10">
                    <span class="flex h-2 w-2 rounded-full bg-blue-400"></span>
                    <span class="text-sm font-bold tracking-wide uppercase text-blue-100 italic">#1 Digital Canteen Solution</span>
                </div>
                <h1 class="text-5xl md:text-7xl font-extrabold leading-tight">
                    Makan Enak <br> <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-200 to-white">Tanpa Harus Antri</span>
                </h1>
                <p class="text-xl text-blue-100 leading-relaxed max-w-lg">
                    Revolusi cara pesan makanan di kantin. Dari Masakan Nusantara hingga Menu Cafe, semua ada di genggaman Anda.
                </p>
                <div class="flex flex-wrap gap-4">
                    <a href="#menu-section" class="bg-white text-blue-800 px-8 py-4 rounded-2xl font-extrabold shadow-2xl hover:bg-blue-50 transition-all flex items-center space-x-2 group">
                        <span>Lihat Semua Menu</span>
                        <i class="fas fa-arrow-down group-hover:translate-y-1 transition"></i>
                    </a>
                    <a href="https://instagram.com/godari2323" target="_blank" class="instagram-gradient text-white px-8 py-4 rounded-2xl font-bold shadow-xl hover:scale-105 transition-all flex items-center space-x-3">
                        <i class="fab fa-instagram text-2xl"></i>
                        <span>@godari2323</span>
                    </a>
                </div>
                <div class="pt-4">
                    <a href="https://wa.me/083132671091" target="_blank" class="text-blue-100 hover:text-white transition flex items-center space-x-2 font-medium">
                        <i class="fab fa-whatsapp text-xl text-green-400"></i>
                        <span>WhatsApp Admin: 0831-3267-1091</span>
                    </a>
                </div>
            </div>
            <div class="hidden md:block relative">
                <img src="https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&q=80&w=800" 
                     alt="GoDari Food" class="rounded-3xl shadow-2xl float-animation border-8 border-white/10 relative z-10">
            </div>
        </div>
    </section>

    <!-- Menu Category Navigation -->
    <div id="menu-section" class="sticky top-20 z-40 bg-white/80 backdrop-blur border-b border-slate-200">
        <div class="max-w-7xl mx-auto px-4 py-4 flex justify-center space-x-4 overflow-x-auto">
            <button onclick="filterMenu('semua')" class="category-btn active whitespace-nowrap px-6 py-2 rounded-full font-bold transition">Semua</button>
            <button onclick="filterMenu('nusantara')" class="category-btn whitespace-nowrap px-6 py-2 rounded-full font-bold transition">Nusantara</button>
            <button onclick="filterMenu('cafe')" class="category-btn whitespace-nowrap px-6 py-2 rounded-full font-bold transition">Cafe & Drinks</button>
        </div>
    </div>

    <!-- Menu Grid -->
    <section class="py-12 px-4">
        <div class="max-w-7xl mx-auto">
            <div id="menu-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Menu items injected by JS -->
            </div>
        </div>
    </section>

    <!-- Status Section -->
    <section id="status" class="bg-slate-900 py-24 px-4 text-white">
        <div class="max-w-4xl mx-auto text-center">
            <h2 class="text-3xl font-extrabold mb-12">Pantau Pesanan Anda</h2>
            <div class="grid md:grid-cols-2 gap-8">
                <div class="bg-slate-800 p-8 rounded-3xl border border-slate-700">
                    <h3 class="font-bold text-xl mb-6 flex items-center text-yellow-400">
                        <i class="fas fa-fire-alt mr-3"></i> Proses Masak
                    </h3>
                    <ul id="processing-list" class="space-y-4 text-left">
                        <li class="text-sm text-slate-500 italic text-center">Belum ada pesanan aktif</li>
                    </ul>
                </div>
                <div class="bg-slate-800 p-8 rounded-3xl border border-slate-700">
                    <h3 class="font-bold text-xl mb-6 flex items-center text-green-400">
                        <i class="fas fa-concierge-bell mr-3"></i> Siap Diambil
                    </h3>
                    <ul id="ready-list" class="space-y-4 text-left">
                        <li class="text-sm text-slate-500 italic text-center">Antrian pengambilan kosong</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-white border-t border-slate-200 py-12 px-4">
        <div class="max-w-7xl mx-auto text-center">
            <div class="flex items-center justify-center space-x-2 mb-4">
                <div class="w-8 h-8 blue-gradient rounded-lg flex items-center justify-center">
                    <i class="fas fa-utensils text-white text-xs"></i>
                </div>
                <span class="text-xl font-black">GoDari</span>
            </div>
            <p class="text-slate-500 text-sm mb-6">Solusi digital untuk kantin modern masa kini.</p>
            <div class="flex justify-center space-x-6 text-slate-400">
                <a href="https://instagram.com/godari2323" target="_blank" class="hover:text-pink-600 transition"><i class="fab fa-instagram text-2xl"></i></a>
                <a href="https://wa.me/083132671091" target="_blank" class="hover:text-green-600 transition"><i class="fab fa-whatsapp text-2xl"></i></a>
            </div>
        </div>
    </footer>

    <!-- Modals (Auth, Payment, Cart) - Kept from original code -->
    <!-- [Rest of the modals stay the same as original code] -->
    <div id="auth-modal" class="fixed inset-0 z-[100] flex items-center justify-center px-4 hidden">
        <div class="absolute inset-0 bg-slate-900/80 backdrop-blur-md"></div>
        <div class="bg-white rounded-[2.5rem] w-full max-w-md relative z-10 p-10 border border-slate-100">
            <h2 class="text-3xl font-black text-slate-900 text-center mb-8">Pendaftaran</h2>
            <form onsubmit="saveUser(event)" class="space-y-6">
                <div><label class="block text-sm font-bold text-slate-700 mb-2">Nama</label><input type="text" id="user-name" required class="w-full px-6 py-4 rounded-2xl bg-slate-50 border border-slate-200"></div>
                <div><label class="block text-sm font-bold text-slate-700 mb-2">WhatsApp</label><input type="tel" id="user-phone" required class="w-full px-6 py-4 rounded-2xl bg-slate-50 border border-slate-200"></div>
                <button type="submit" class="w-full blue-gradient text-white font-black py-5 rounded-2xl shadow-xl">Masuk</button>
            </form>
        </div>
    </div>

    <div id="payment-modal" class="fixed inset-0 z-[100] flex items-center justify-center px-4 hidden">
        <div class="absolute inset-0 bg-slate-900/90 backdrop-blur-lg"></div>
        <div class="bg-white rounded-[3rem] w-full max-w-sm relative z-10 p-8 text-center">
            <h2 class="text-2xl font-black mb-1">Bayar QRIS</h2>
            <p class="text-xs text-slate-500 mb-6">Dana: Sundari Welas Asih</p>
            <div class="bg-slate-50 p-6 rounded-[2rem] mb-6 flex justify-center">
                <div class="qr-wrapper"><img id="qris-image" src="" alt="QRIS" class="w-48 h-48"></div>
            </div>
            <div class="bg-slate-900 text-white p-5 rounded-[1.5rem] mb-6">
                <p id="payment-total-display" class="text-3xl font-black text-blue-400">Rp 0</p>
            </div>
            <button onclick="confirmPayment()" class="w-full blue-gradient text-white font-black py-5 rounded-2xl shadow-xl mb-4">Konfirmasi Pembayaran</button>
            <button onclick="closePayment()" class="text-sm font-bold text-slate-400 uppercase">Tutup</button>
        </div>
    </div>

    <div id="cart-sidebar" class="fixed inset-y-0 right-0 w-full md:w-96 glass shadow-2xl z-[60] transform translate-x-full transition-transform duration-500 border-l border-slate-200">
        <div class="flex flex-col h-full">
            <div class="p-8 border-b border-slate-100 flex justify-between items-center bg-blue-600 text-white">
                <h2 class="text-2xl font-black">Keranjang</h2>
                <button onclick="toggleCart()" class="text-3xl">&times;</button>
            </div>
            <div id="cart-items" class="flex-1 overflow-y-auto p-8 space-y-6"></div>
            <div class="p-8 border-t border-slate-100">
                <div class="flex justify-between mb-6">
                    <span class="font-bold text-slate-500">Total</span>
                    <span id="cart-total" class="text-2xl font-black text-blue-700">Rp 0</span>
                </div>
                <button onclick="initiatePayment()" class="w-full blue-gradient text-white py-5 rounded-2xl font-black">Bayar Sekarang</button>
            </div>
        </div>
    </div>
    <div id="overlay" onclick="toggleCart()" class="fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-50 hidden"></div>

    <script>
        const RECIPIENT_NAME = "Sundari Welas Asih";
        const RECIPIENT_PHONE = "082180961647"; 
        
        // Expanded Menu Database
        const menuItems = [
            // Kategori: Nusantara
            { id: 1, name: "Nasi Ayam Bakar Madu", price: 28000, tag: "nusantara", image: "nasbak madu.jpg" },
            { id: 2, name: "Mie Goreng Special Jawa", price: 22000, tag: "nusantara", image: "mie goreng jawa.jpg" },
            { id: 3, name: "Soto Betawi Daging", price: 25000, tag: "nusantara", image: "soto betawi.jpg" },
            { id: 7, name: "Rendang Sapi Padang", price: 35000, tag: "nusantara", image: "rendang sapi.jpg" },
            { id: 8, name: "Gado-Gado Siram", price: 18000, tag: "nusantara", image: "gado gado.jpg" },
             { id: 9, name: "Nasi Goreng Special", price: 18000, tag: "nusantara", image: "nasgor special.jpg" },
            
            // Kategori: Cafe & Drinks
            { id: 4, name: "Iced Caramel Latte", price: 18000, tag: "cafe", image: "icecaramel.jpg" },
            { id: 5, name: "Jus Mangga Premium", price: 15000, tag: "cafe", image: "jusssmanggaa.jpg" },
            { id: 6, name: "Thai Tea Creamy", price: 19000, tag: "cafe", image: "thaiteecreamy.jpg" },
            { id: 9, name: "Espresso Single Shot", price: 15000, tag: "cafe", image: "expresso.jpg" },
            { id: 10, name: "Matcha Fusion Cold", price: 22000, tag: "cafe", image: "matchaa.jpg" },
            { id: 10, name: "Lee Mineral", price: 5000, tag: "cafe", image: "leemineral.jpg" },
            { id: 10, name: "Strawberry Milkshake", price: 22000, tag: "cafe", image: "milkshake stobelly.jpg" },
             { id: 10, name: "Sop Buah", price: 19000, tag: "cafe", image: "sop buah.png" },
              { id: 10, name: "Teh Hangat", price: 5000, tag: "cafe", image: "teh hangat.jpg" }
        ];

        let cart = [];
        let userData = JSON.parse(localStorage.getItem('godari_user')) || null;
        let currentFilter = 'semua';

        function filterMenu(tag) {
            currentFilter = tag;
            // Update UI Active State
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.classList.remove('active');
                if(btn.innerText.toLowerCase().includes(tag)) btn.classList.add('active');
            });
            renderMenu();
        }

        function renderMenu() {
            const grid = document.getElementById('menu-grid');
            const filtered = currentFilter === 'semua' ? menuItems : menuItems.filter(i => i.tag === currentFilter);
            
            grid.innerHTML = filtered.map(item => `
                <div class="bg-white rounded-[2.5rem] shadow-sm hover:shadow-2xl transition-all duration-500 overflow-hidden group border border-slate-100">
                    <div class="h-60 overflow-hidden relative">
                        <img src="${item.image}" alt="${item.name}" class="w-full h-full object-cover group-hover:scale-110 transition duration-700">
                        <span class="absolute top-4 left-4 bg-white/90 backdrop-blur px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest text-blue-700">${item.tag}</span>
                    </div>
                    <div class="p-8">
                        <h3 class="text-xl font-black text-slate-800 mb-2">${item.name}</h3>
                        <p class="text-blue-600 font-black text-lg mb-6">Rp ${item.price.toLocaleString('id-ID')}</p>
                        <button onclick="checkAuthAndAdd(${item.id})" class="w-full bg-slate-900 text-white py-4 rounded-2xl font-bold hover:bg-blue-600 transition-all flex items-center justify-center space-x-2">
                            <i class="fas fa-plus-circle"></i>
                            <span>Tambah Ke Keranjang</span>
                        </button>
                    </div>
                </div>
            `).join('');
            checkUserDisplay();
        }

        // Logic functions same as before but keeping it clean
        function checkUserDisplay() {
            if (userData) {
                document.getElementById('user-display').classList.remove('hidden');
                document.getElementById('display-name').innerText = userData.name.split(' ')[0];
            }
        }

        function saveUser(e) {
            e.preventDefault();
            userData = { name: document.getElementById('user-name').value, phone: document.getElementById('user-phone').value };
            localStorage.setItem('godari_user', JSON.stringify(userData));
            document.getElementById('auth-modal').classList.add('hidden');
            checkUserDisplay();
        }

        function checkAuthAndAdd(id) {
            if (!userData) {
                document.getElementById('auth-modal').classList.remove('hidden');
                return;
            }
            const item = menuItems.find(i => i.id === id);
            const inCart = cart.find(i => i.id === id);
            if (inCart) inCart.quantity++; else cart.push({ ...item, quantity: 1 });
            updateCartUI();
        }

        function toggleCart() {
            document.getElementById('cart-sidebar').classList.toggle('translate-x-full');
            document.getElementById('overlay').classList.toggle('hidden');
        }

        function updateCartUI() {
            const list = document.getElementById('cart-items');
            const totalDisplay = document.getElementById('cart-total');
            const count = document.getElementById('cart-count');
            
            if (cart.length === 0) {
                list.innerHTML = '<div class="text-center py-20 text-slate-400 font-bold">Kosong</div>';
                count.classList.add('hidden');
            } else {
                count.classList.remove('hidden');
                count.innerText = cart.reduce((a, b) => a + b.quantity, 0);
                list.innerHTML = cart.map(item => `
                    <div class="flex items-center justify-between bg-slate-50 p-4 rounded-2xl">
                        <div>
                            <h4 class="font-bold text-slate-800">${item.name}</h4>
                            <p class="text-xs text-slate-500">${item.quantity} x Rp ${item.price.toLocaleString('id-ID')}</p>
                        </div>
                        <button onclick="removeFromCart(${item.id})" class="text-red-400"><i class="fas fa-trash"></i></button>
                    </div>
                `).join('');
            }
            const total = cart.reduce((a, b) => a + (b.price * b.quantity), 0);
            totalDisplay.innerText = `Rp ${total.toLocaleString('id-ID')}`;
            document.getElementById('payment-total-display').innerText = `Rp ${total.toLocaleString('id-ID')}`;
        }

        function removeFromCart(id) {
            cart = cart.filter(item => item.id !== id);
            updateCartUI();
        }

        function initiatePayment() {
            if (cart.length === 0) return;
            // Generate QR (Mockup source)
            document.getElementById('qris-image').src = `https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=DANA-${RECIPIENT_PHONE}`;
            toggleCart();
            document.getElementById('payment-modal').classList.remove('hidden');
        }

        function closePayment() { document.getElementById('payment-modal').classList.add('hidden'); }

        function confirmPayment() {
            const orderId = "GD-" + Math.floor(Math.random() * 9000 + 1000);
            const procList = document.getElementById('processing-list');
            
            if (procList.innerText.includes("Belum ada")) procList.innerHTML = "";
            const li = document.createElement('li');
            li.className = "p-5 bg-slate-700 rounded-2xl flex justify-between items-center";
            li.innerHTML = `<div><div class="font-black">#${orderId}</div><div class="text-[10px] text-slate-400">${userData.name}</div></div><div class="text-yellow-400 text-xs font-bold animate-pulse">MEMASAK...</div>`;
            procList.appendChild(li);

            setTimeout(() => {
                li.remove();
                const readyList = document.getElementById('ready-list');
                if (readyList.innerText.includes("Antrian pengambilan")) readyList.innerHTML = "";
                const rLi = document.createElement('li');
                rLi.className = "p-5 bg-green-500/20 border border-green-500/30 rounded-2xl flex justify-between items-center";
                rLi.innerHTML = `<div><div class="font-black text-white">#${orderId}</div><div class="text-[10px] text-green-400">${userData.name}</div></div><div class="bg-green-500 text-white px-3 py-1 rounded-full text-[10px] font-black">SIAP</div>`;
                readyList.appendChild(rLi);
            }, 10000);

            alert(`Pesanan #${orderId} sukses! Admin kami segera memprosesnya.`);
            cart = [];
            updateCartUI();
            closePayment();
        }

        window.onload = renderMenu;
    </script>
</body>
</html>